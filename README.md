# Лабораторная работа №7

## Требования к программе

Модифицировать лабораторную работу №6 следующим образом:

### Многопоточная реализация

**Потоки:**
1. **Поток перемещения NPC:**
   - Осуществляет передвижение NPC на определенное расстояние
   - Определяет, что два NPC находятся на расстоянии убийства
   - Если два NPC вступили в «бой», создает задачу для потока, осуществляющего бои

2. **Поток сражений:**
   - Осуществляет бои между NPC
   - Если один NPC может убивать другой, каждый NPC «кидает 6-гранный кубик»:
     - Определяет силу атаки и силу защиты
     - Если сила атаки > силы защиты – происходит убийство

3. **Основной поток:**
   - Раз в секунду печатает карту
   - Мертвые NPC на карте не отображаются

### Основные правила игры

- **Мертвые NPC:**
  - Не передвигаются
  - Не отображаются на карте

- **Живые NPC:**
  - Не могут покинуть карту
  - Размер карты задается через константы (например, 100 x 100)

### Технические требования

1. **Контроль доступа к ресурсам:**
   - Использовать `std::shared_lock` и `std::lock_guard` для контроля доступа к разделяемым ресурсам
   - Использовать `std::lock_guard` для контроля потока вывода `std::cout`

2. **Реализация потоков:**
   - Потоки запускаются как `std::thread`
   - Можно использовать лямбда-функции или функторы (классы с перегруженным оператором `operator()`)

3. **Инициализация игры:**
   - В начале игры создается 50 NPC в случайных локациях
   - Игра останавливается через 30 секунд
   - После остановки выводится список выживших NPC

### Усложненный вариант

**Реализация с использованием корутин:**
- Реализовать перемещение и сражение NPC в одном потоке, используя корутины
- Основной поток должен продолжать выводить данные о карте на экран
